import{A as C,a as T,i as A,S as N,N as O,P as D}from"./assets/vendor-LM-CufZg.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const w of n.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&a(w)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const $=document.querySelectorAll(".menu-link");$.forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();const r=this.getAttribute("href");document.querySelector(r).scrollIntoView({behavior:"smooth",block:"start"})})});const b=document.getElementById("scrollTopBtn");window.onscroll=function(){F()};function F(){document.body.scrollTop>60||document.documentElement.scrollTop>60?b.style.display="flex":b.style.display="none"}b.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});document.getElementById("projects-more-btn").addEventListener("click",H);let d=document.querySelectorAll(".projects-visually-hidden"),u=0;const S=3;function H(){let e=d.length-u,t=e<S?e:S;for(let r=u;r<u+t;r++)r<d.length&&(d[r].classList.remove("projects-visually-hidden"),d[r].classList.add("item-appear"));u+=t,u>=d.length&&(document.getElementById("projects-more-btn").style.display="none")}new C(".accordion-container");const s={light:"light-theme",dark:"dark-theme"},M=document.querySelector(".theme-switch__toggle"),i=document.querySelector(".menu-header"),l=document.querySelector("body"),f=localStorage.getItem("theme");f?(l.classList.add(f),i.classList.add(f)):(l.classList.add(s.light),i.classList.add(s.light));f===s.dark&&(M.checked=!0);const R=e=>{e.currentTarget.checked?(l.classList.remove(s.light),l.classList.add(s.dark),i.classList.remove(s.light),i.classList.add(s.dark),localStorage.setItem("theme",s.dark)):(l.classList.remove(s.dark),l.classList.add(s.light),i.classList.remove(s.dark),i.classList.add(s.light),localStorage.setItem("theme",s.light))};M.addEventListener("change",R);const E=document.querySelector(".open-header-menu-button"),q=document.querySelector(".close-button"),m=document.querySelector(".menu-header"),W=document.querySelectorAll(".menu-header-link");E&&m&&E.addEventListener("click",function(){m.classList.add("is-open"),document.body.classList.add("body-scroll-lock")});q&&m&&q.addEventListener("click",function(){m.classList.remove("is-open"),document.body.classList.remove("body-scroll-lock")});W.forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();const r=document.querySelector(this.getAttribute("href"));r&&r.scrollIntoView({behavior:"smooth"}),m.classList.remove("is-open"),document.body.classList.remove("body-scroll-lock")})});async function _(e){try{return(await T.post("https://portfolio-js.b.goit.study/api/requests",e,{headers:{"Content-Type":"application/json"}})).data}catch{throw new Error("API request failed")}}const h=document.querySelector(".contact-form"),y=document.querySelector(".modal-wt"),j=document.querySelector(".work-btn");let p={};async function z(e){if(e.preventDefault(),p={email:h.elements["user-email"].value,comment:h.elements["message-description"].value},!p.email||!p.comment){v("Please fill in all required fields.");return}try{await _(p)?(K(),h.reset()):v("Error: Server did not return a response.")}catch{v("Server error occurred. Please try again.")}}function v(e){A.error({message:e,color:"white",backgroundColor:"red"})}function K(){y.classList.add("is-open"),document.body.classList.add("no-scroll")}function g(e){(e.target===y||j.contains(e.target)||e.key==="Escape")&&(y.classList.remove("is-open"),document.body.classList.remove("no-scroll"))}function G(){h.addEventListener("submit",z),j.addEventListener("click",g),y.addEventListener("click",g),window.addEventListener("keydown",e=>{e.key==="Escape"&&g(e)})}G();const x=document.querySelector(".reviews-list"),J=document.querySelector("#reviews"),I=document.querySelector(".nav-arrow-prev"),P=document.querySelector(".nav-arrow-next"),L={mobile:320,tablet:768,desktop:1280};let k=!1,B=!1;const c=new N(".swiper",{modules:[O,D],navigation:{nextEl:".nav-arrow-next",prevEl:".nav-arrow-prev",enabled:!0},keyboard:{enabled:!0}});P.addEventListener("click",()=>{P.blur()});I.addEventListener("click",()=>{I.blur()});V();async function Q(){try{const e=await T.get("https://portfolio-js.b.goit.study/api/reviews");if(e.status===200){const t=await U(e);x.insertAdjacentHTML("beforeend",t),c.update()}else k=!0}catch(e){console.error("Error fetching reviews:",e),k=!0}}async function U(e){return e.data.map(t=>{const{author:r,avatar_url:a,review:o}=t;return`
        <li class="swiper-slide reviews-wrap">
          <div class="reviews-item">
            <p class="reviews-text">${o}</p>
            <div class="reviews-credentials">
              <img class="reviews-img" src="${a}" alt="${r}" />
              <p class="reviews-author">${r}</p>
            </div>
          </div>
        </li>`}).join("")}function X(){const e=J.getBoundingClientRect();e.top<window.innerHeight&&e.bottom>0&&k&&!B&&(Y("Not found"),B=!0)}function Y(e){x.innerHTML=`<p class="not-found">${e}</p>`,A.show({message:"‚ùå Sorry, due to an error no reviews were fetched.",position:"topRight",backgroundColor:"#F44336",messageColor:"#fff"})}window.addEventListener("scroll",X);Q();function V(){const e=window.innerWidth;e<L.tablet||e>L.tablet&&e<L.desktop?c.params.slidesPerView=1:(c.params.slidesPerView=2,c.params.spaceBetween=24),c.update()}document.querySelector(".nav-arrow-prev").addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&c.slidePrev()});document.querySelector(".nav-arrow-next").addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&c.slideNext()});window.addEventListener("resize",V);
//# sourceMappingURL=index.js.map
